---
import { LightGallery } from '@components/../../node_modules/astro-lightgallery/src/index.ts';
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'image'> {
	counter?: boolean;
}

const { hasCounter, ...attrs } = {
	hasCounter: Astro.props.counter ?? true,
	...Astro.props
};
---

<LightGallery
	options={{
		thumbnail: true,
		animateThumb: false,
		zoomFromOrigin: false,
		allowMediaOverlap: false,
		toggleThumb: true,
		autoplayFirstVideo: false,
		showThumbnailWithPlayButton: true,
		selector: '.project-media-element',
		counter: hasCounter,
		addClass: 'font-sb text-paragraph'
	}}
	addPlugins={['video']}
	class=`flex ${attrs.class}`>
	<slot />
</LightGallery>
