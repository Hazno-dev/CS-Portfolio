---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
	class?: string;
	image: any;
}

const { optionalClass, image } = {
	optionalClass: Astro.props.class,
	image: Astro.props.image,
};

const images = import.meta.glob<{ default: ImageMetadata }>(
	'src/content/projects/**/*.{jpeg,jpg,png,gif,webp}'
);
---

<div
	class:list={[
		'mt-4 aspect-video h-auto max-h-64 grow rounded-md border border-secondary-1000 ' +
			' border-opacity-10 bg-primary-300 transition hover:scale-[1.02]' +
			' hover:border-opacity-80 motion-reduce:transition-none' +
			' motion-reduce:hover:transform-none',
		optionalClass ?? ''
	]}>

	<Picture
		class="object-cover w-full h-full"
		src={images[image]()}
		alt=""
		/>
</div>
